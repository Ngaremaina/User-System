{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{departments}=_ref;const navigate=useNavigate();const[formData,setFormData]=useState({username:'',password:'',is_manager:false,email:'',department_id:1});const handleChange=event=>{const{name,value,type}=event.target;if(type==='checkbox'){setFormData(prevFormData=>({...prevFormData,[name]:event.target.checked// Type assertion to HTMLInputElement\n}));}else{setFormData(prevFormData=>({...prevFormData,[name]:value}));}};const handleSubmit=async event=>{event.preventDefault();try{await axios.post('/register',formData);console.log('User registered successfully');// Optionally handle success (i.e redirect to login page)\nnavigate(\"/sign in\");}catch(error){console.error('Error registering user:',error);// Handle error (e.g., display error message to user)\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-medium text-gray-900 dark:text-white\",children:\"Sign Up on our PLatform\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"department_id\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Department:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",id:\"department_id\",name:\"department_id\",value:formData.department_id,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a department\"}),departments.map(department=>/*#__PURE__*/_jsx(\"option\",{value:department.id,children:department.name},department.id))]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_manager\",checked:formData.is_manager,onChange:handleChange}),\"Manager\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-300\",children:[\"Already registered? \",/*#__PURE__*/_jsx(Link,{to:\"/sign in\",className:\"text-blue-700 hover:underline dark:text-blue-500\",children:\"Login to account\"})]})]})})});};export default Register;","map":{"version":3,"names":["React","useState","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","_ref","departments","navigate","formData","setFormData","username","password","is_manager","email","department_id","handleChange","event","name","value","type","target","prevFormData","checked","handleSubmit","preventDefault","post","console","log","error","className","children","onSubmit","htmlFor","id","onChange","required","map","department","to"],"sources":["/home/ngare/Development/code/User-System/my-app/src/components/SignUp.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { DepartmentsProps } from '../types';\nimport { Link, useNavigate } from 'react-router-dom';\n\ninterface RegisterFormData {\n  username: string;\n  password: string;\n  is_manager: boolean;\n  email: string;\n  department_id: number;\n}\n\nconst Register: React.FC<DepartmentsProps> = ({departments}) => {\n    const navigate = useNavigate()\n  const [formData, setFormData] = useState<RegisterFormData>({\n    username: '',\n    password: '',\n    is_manager: false,\n    email: '',\n    department_id: 1\n  });\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value, type } = event.target;\n\n    if (type === 'checkbox') {\n      setFormData(prevFormData => ({\n        ...prevFormData,\n        [name]: (event.target as HTMLInputElement).checked, // Type assertion to HTMLInputElement\n      }));\n    } else {\n      setFormData(prevFormData => ({\n        ...prevFormData,\n        [name]: value,\n      }));\n    }\n  };\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    \n    try {\n      await axios.post('/register', formData);\n      console.log('User registered successfully');\n      // Optionally handle success (i.e redirect to login page)\n      navigate(\"/sign in\")\n    } catch (error) {\n      console.error('Error registering user:', error);\n      // Handle error (e.g., display error message to user)\n    }\n  };\n\n  \n\n  return (\n    <div className=\"flex justify-center mt-4\">\n\n    \n    <div className=\"w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700\">\n      \n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <h2 className=\"text-xl font-medium text-gray-900 dark:text-white\">Sign Up on our PLatform</h2>\n        <div>\n          <label htmlFor=\"username\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Username:</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\n            required\n          />\n        </div>\n        \n        \n        <div>\n          <label htmlFor=\"email\"  className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Email:</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\n            required\n          />\n        </div>\n        <div>\n          <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Password:</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white\"\n            required\n          />\n        </div>\n        <div>\n        <label htmlFor=\"department_id\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n            Department:\n        </label>\n        <select\n            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n            id=\"department_id\"\n            name=\"department_id\"\n            value={formData.department_id}\n            onChange={handleChange}\n        >\n            <option value=\"\">Select a department</option>\n            {departments.map((department) => (\n                <option key={department.id} value={department.id}>\n                    {department.name}\n                </option>\n            ))}\n        </select>\n                    </div>\n                    <div>\n          <label className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n            <input\n              type=\"checkbox\"\n              name=\"is_manager\"\n              checked={formData.is_manager}\n              onChange={handleChange}\n             \n            />\n            Manager\n          </label>\n        </div>\n        <button type=\"submit\" className=\"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Register</button>\n\n        <div className=\"text-sm font-medium text-gray-500 dark:text-gray-300\">\n            Already registered? <Link to=\"/sign in\" className=\"text-blue-700 hover:underline dark:text-blue-500\">Login to account</Link></div>\n      </form>\n    </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}