{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Header from'./Header';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddDepartment=_ref=>{let{departments}=_ref;const[formData,setFormData]=useState({name:''});const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('/departments',formData);console.log('Post successful:',response.data);// Handle success (e.g., show success message, redirect, etc.)\nwindow.location.reload();}catch(error){console.error('Error posting data:',error);// Handle error (e.g., show error message, log error, etc.)\n}};const handleDelete=async id=>{try{await axios.delete(\"/departments/\".concat(id));console.log(\"Department Deleted successfully\");window.location.reload();}catch(err){console.error('Error deleting department:',err);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"flex justify-center mb-3 font-bold uppercase\",children:\"Create Department\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"max-w-sm mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block mb-2 text-sm font-medium text-gray-900 \",children:\"Department Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",children:\"Create Department\"})]}),/*#__PURE__*/_jsx(\"table\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative overflow-x-auto mt-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"DEPARTMENT NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"EDIT DEPARTMENT\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3\",children:\"DELETE DEPARTMENT\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:departments.map(department=>/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:department.id}),/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\",children:department.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{className:\"mt-2 focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800\",to:\"/update department/\".concat(department.id),children:\"Edit\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"mt-2 focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\",onClick:()=>handleDelete(department.id),children:\"Delete\"})})]},department.id))})]})})]});};export default AddDepartment;","map":{"version":3,"names":["React","useState","axios","Header","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddDepartment","_ref","departments","formData","setFormData","name","handleChange","e","target","value","handleSubmit","preventDefault","response","post","console","log","data","window","location","reload","error","handleDelete","id","delete","concat","err","children","className","onSubmit","htmlFor","type","onChange","scope","map","department","to","onClick"],"sources":["/home/ngare/Development/code/User-System/my-app/src/components/AddDepartment.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Header from './Header';\nimport { DepartmentsProps, DepartmentDetails } from '../types';\nimport { Link } from 'react-router-dom';\n\nconst AddDepartment: React.FC<DepartmentsProps> = ({departments}) => {\n    \n    const [formData, setFormData] = useState<DepartmentDetails>({\n        name: ''\n    });\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        \n        try {\n            const response = await axios.post('/departments', formData);\n            console.log('Post successful:', response.data);\n            // Handle success (e.g., show success message, redirect, etc.)\n            window.location.reload()\n        } catch (error) {\n            console.error('Error posting data:', error);\n            // Handle error (e.g., show error message, log error, etc.)\n        }\n        \n    };\n\n    const handleDelete = async (id: number) => {\n        \n        try {\n            await axios.delete(`/departments/${id}`);\n            console.log(\"Department Deleted successfully\")\n            window.location.reload()\n          } catch (err) {\n            console.error('Error deleting department:', err);\n            \n          }\n      }\n\n    return (\n        <>\n\n        <Header />\n     \n        <div className='mt-2'>\n            <h2 className='flex justify-center mb-3 font-bold uppercase'>Create Department</h2>\n            <form onSubmit={handleSubmit} className='max-w-sm mx-auto'>\n                <div className='mb-5'>\n                    <label htmlFor=\"name\" className=\"block mb-2 text-sm font-medium text-gray-900 \">Department Name:</label>\n                    <input \n                        className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                        type=\"text\"\n                        id=\"name\"\n                        name=\"name\"\n                        value={formData.name}\n                        onChange={handleChange}\n                    />\n                </div>\n                <button type=\"submit\" className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Create Department</button>\n            </form>\n\n            <table>\n\n            </table>\n        </div>\n\n        <div className='relative overflow-x-auto mt-5'>\n            <table className='w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400'>\n                <thead className='text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400'>\n                    <tr>\n                        <th scope=\"col\" className=\"px-6 py-3\">ID</th>\n                        <th scope=\"col\" className=\"px-6 py-3\">DEPARTMENT NAME</th>\n                        <th scope=\"col\" className=\"px-6 py-3\">EDIT DEPARTMENT</th>\n                        <th scope=\"col\" className=\"px-6 py-3\">DELETE DEPARTMENT</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {departments.map(department => (\n                    <tr key={department.id} className='bg-white border-b dark:bg-gray-800 dark:border-gray-700'> \n                        <td className=\"px-6 py-4\">{department.id}</td>\n                        <th scope=\"row\" className=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white\">{department.name}</th>    \n                        <td><Link className=\"mt-2 focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800\" to={`/update department/${department.id}`}>Edit</Link></td>\n                        <td><button className=\"mt-2 focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\"onClick={() => handleDelete(department.id)}>Delete</button></td>           \n                    </tr>\n                    \n                ))}\n                    \n                </tbody>\n            </table>\n        \n        </div>\n\n        </>\n    );\n};\n\nexport default AddDepartment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}